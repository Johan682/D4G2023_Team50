<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/styles.css">
    <script src="js/script.js"></script>
    <title>Accueil D4G Team50</title>
</head>
<body>
    
    <h1> Design4Green Team 50</h1>
    
    <!-- URL -->
    <label for="urlInput">URL :</label>
    <input type="text" id="urlInput" placeholder="Entrez l'URL">

    <!-- Fin partie URL -->
    <!--Boutons-->
    <button id="restaurer" onclick="restaurerDonnees()">Restaurer les données</button>
    <div id="dataContainer"></div>
    <button id="pdf" onclick="genererPDF()">Génerer PDF</button>
    <!--Fin de boutons-->
    <script>
        fetch("referentiel-general-ecoconception-version-v1.json")
        .then(response => response.json())
        .then(data =>{
            console.log(data)
            const dataContainer = document.getElementById("dataContainer");

        })

        async function afficherCritères() {
        const criteriaSection = document.getElementById('dataContainer');
        const jsonData = await chargerJson();
        if (!jsonData) return;

        // Filtrer les critères en fonction de l'état de conformité sélectionné
        const filterState = document.getElementById('filter').value;
        const critereFiltres = filterState === 'all' ? jsonData.criteres : jsonData.criteres.filter(critere => critere.etat === filterState);

        // Effacer le contenu actuel
        criteriaSection.innerHTML = '';

        critereFiltres.forEach(critere => {
                const critereElement = document.createElement('div');
                critereElement.innerHTML = `
            <h3>${critere.thematique}</h3>
            <p>${critere.id} - ${critere.critere}</p>
            <label>
                <input type="radio" name="conformite_${critere.critere}" value="conform"> Conforme
            </label>
            <label>
                <input type="radio" name="conformite_${critere.critere}" value="in-progress"> En cours de déploiement
            </label>
            <label>
                <input type="radio" name="conformite_${critere.critere}" value="non-conform"> Non conforme
            </label>
            <label>
                <input type="radio" name="conformite_${critere.critere}" value="not-applicable"> Non applicable
            </label>
            <br>
        `;
                criteriaSection.appendChild(critereElement);
        });

        // Appeler la fonction pour calculer et afficher le score de conformité
        calculerScoreConformite();
}
    </script>
  
</body>
</html>

